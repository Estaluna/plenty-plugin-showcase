{% extends 'PlentyPluginShowcase::templates.Example' %}

{% block Description %}
    <h1 class="has-hover">
        Kategorie-Routen
        <a href="#{{ sectionId }}" class="text-muted hover-visible text-small"><span class="glyphicon glyphicon-link"></span></a>
    </h1>

    <p>
        Das <code>CategoryRepository</code> kann über die Methode <code>findCategoryByUrl()</code> einzelne Kategorie-URLs
        auflösen. Dazu müssen im <code>RouteProvider</code> über eine Route mit entsprechenden regulären Ausdrücken die
        einzelnen Kategorie-Level erkannt werden.
    </p>
{% endblock %}

{% block ExampleOutput %}
    <div class="row">
        <div class="col-lg-6 col-md-6">
            <ul class="list-group">
                {% for category in categoryTree %}
                    <li class="list-group-item">
                        <a href="{{ url('showcase/categories') ~ '/' ~ category.plenty_category_details_name_url }}#{{ sectionId }}">
                            {{ category.plenty_category_details_name }}
                        </a>
                    </li>
                {% endfor %}
            </ul>
        </div>

        <div class="col-lg-6 col-md-6">
            {% if currentCategory != null %}
                <p class="text-muted">Aktuelle Kategorie:</p>
                <p>{{ currentCategory.plenty_category_details_name }}</p>
            {% else %}
                <p class="text-muted">Keine Kategorie gewählt.</p>
            {% endif %}
        </div>
    </div>
{% endblock %}

{% set exampleId = "category-routes" %}
{% set exampleFiles = {
    "RoutePrivder.hh"  : "PlentyPluginShowcase::examples.categories.categoryRoutes.RouteProvider.twig",
    "Controller.hh"    : "PlentyPluginShowcase::examples.categories.categoryRoutes.Controller.twig",
    "Category.twig"    : "PlentyPluginShowcase::examples.categories.categoryRoutes.Category.twig"
} %}